{% extends "base.html" %}

{% block title %}{% if employee %}Edit Employee{% else %}New Employee{% endif %} - Management System{% endblock %}

{% block content %}
<div class="page-header">
    <h2>{% if employee %}Edit Employee: {{ employee.name }}{% else %}Add New Employee{% endif %}</h2>
    <a href="/employees" class="btn btn-secondary">Back to Employees</a>
</div>

<div class="form-container">
    <form method="POST" action="{% if employee %}/employees/{{ employee.slug }}/edit{% else %}/employees/new{% endif %}">
        <div class="form-group">
            <label for="name">Full Name</label>
            <input type="text" id="name" name="name" value="{% if employee %}{{ employee.name }}{% endif %}" required>
        </div>

        <div class="form-group">
            <label for="position_id">Position</label>
            <select id="position_id" name="position_id" required>
                <option value="">Select a position...</option>
                {% for position in positions %}
                <option value="{{ position.id }}"
                        {% if employee and employee.position_id == position.id %}selected{% endif %}>
                    {{ position.name }}
                </option>
                {% endfor %}
            </select>
            <small>Tip entry requirements are configured per position. <a href="/positions" target="_blank">Manage positions</a></small>
        </div>

        <div class="form-group">
            <label>Scheduled Days</label>
            <div class="checkbox-group">
                {% set days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'] %}
                {% for day in days %}
                <label class="checkbox-label">
                    <input type="checkbox" name="scheduled_days" value="{{ day }}"
                           {% if employee and day in employee.scheduled_days %}checked{% endif %}>
                    {{ day }}
                </label>
                {% endfor %}
            </div>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-primary">{% if employee %}Update Employee{% else %}Create Employee{% endif %}</button>
            <a href="/employees" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}
